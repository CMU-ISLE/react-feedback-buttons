// MODULES //

import React from 'react';
import ReactDOM from 'react-dom';


// EXPIRE //

class Expire extends React.Component {

	constructor() {
		super();
		this.state = {
			visible: true
		};
	}

	componentWillReceiveProps( nextProps ) {
		if ( nextProps.children !== this.props.children ) {
			this.setTimer();
			this.setState({visible: true});
		}
	}

	componentDidMount() {
		this.setTimer();
	}

	setTimer() {
		this._timer != null ? clearTimeout( this._timer ) : null;

		this._timer = setTimeout( () => {
			this.setState( {visible: false} );
			this._timer = null;
		}, this.props.delay );
	}

	componentWillUnmount() {
		clearTimeout(this._timer);
	}

	render() {
		return this.state.visible
			? <div>{this.props.children}</div>
			: <span />;
	}

}

Expire.defaultProps = {
	delay: 1000
};


// EXPORTS //

export default Expire;
